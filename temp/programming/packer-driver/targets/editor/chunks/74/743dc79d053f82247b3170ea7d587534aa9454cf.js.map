{"version":3,"sources":["file:///Users/songxiangying/Desktop/cc1234223/assets/editor/UiEdColumnCtrl.ts"],"names":["_decorator","Component","Node","UITransform","UiEdColumn","ccclass","menu","property","UiEdColumnCtrl","glassCount","onLoad","node","on","EventType","SIZE_CHANGED","sizeChanged","ACTIVE_CHANGED","activeChanged","start","column","adjustGlassCount","reset","stageInfos","length","uiTransform","width","active","resetCount","_","countStr","parseInt","moveUp","moveDown"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAQQA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;;AAC9BC,MAAAA,U;;;;;;AATP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;OAKM;AAACC,QAAAA,OAAD;AAAUC,QAAAA,IAAV;AAAgBC,QAAAA;AAAhB,O,GAA4BP,U;;yBAIbQ,c,WAFpBH,OAAO,CAAC,gBAAD,C,UACPC,IAAI,CAAC,oBAAD,C,UAIAC,QAAQ,CAACJ,WAAD,C,UAIRI,QAAQ;AAAA;AAAA,mC,0CATb,MAEqBC,cAFrB,SAE4CP,SAF5C,CAEsD;AAAA;AAAA;;AAElD;AAFkD;;AAMlD;AANkD;;AAUlD;AAVkD,eAWxCQ,UAXwC,GAWnB,CAXmB;AAAA;;AAalDC,QAAAA,MAAM,GAAG;AACL,eAAKC,IAAL,CAAUC,EAAV,CAAaV,IAAI,CAACW,SAAL,CAAeC,YAA5B,EAA0C,KAAKC,WAA/C,EAA4D,IAA5D;AACA,eAAKJ,IAAL,CAAUC,EAAV,CAAaV,IAAI,CAACW,SAAL,CAAeG,cAA5B,EAA4C,KAAKC,aAAjD,EAAgE,IAAhE;AACH;;AAESC,QAAAA,KAAK,GAAS;AACpB,eAAKC,MAAL,CAAYC,gBAAZ,CAA6B,KAAKX,UAAlC;AACH;AAED;AACJ;AACA;AACA;;;AACWY,QAAAA,KAAK,CAACC,UAAD,EAA0B;AAClC,eAAKb,UAAL,GAAkBa,UAAU,CAACC,MAA7B;AACA,eAAKJ,MAAL,CAAYE,KAAZ,CAAkBC,UAAlB;AACH;;AAESP,QAAAA,WAAW,GAAG;AACpB,eAAKI,MAAL,CAAYK,WAAZ,CAAwBC,KAAxB,GAAgC,KAAKD,WAAL,CAAiBC,KAAjD;AACH;;AAESR,QAAAA,aAAa,GAAG;AACtB,eAAKE,MAAL,CAAYR,IAAZ,CAAiBe,MAAjB,GAA0B,KAAKf,IAAL,CAAUe,MAApC;AACH;AAED;AACJ;AACA;AACA;;;AACcC,QAAAA,UAAU,CAACC,CAAD,EAAIC,QAAJ,EAAsB;AACtC,eAAKpB,UAAL,GAAkBqB,QAAQ,CAACD,QAAD,CAA1B;AACA,eAAKV,MAAL,CAAYC,gBAAZ,CAA6B,KAAKX,UAAlC;AACH;;AAESsB,QAAAA,MAAM,GAAG;AACf,eAAKZ,MAAL,CAAYY,MAAZ;AACH;;AAESC,QAAAA,QAAQ,GAAG;AACjB,eAAKb,MAAL,CAAYa,QAAZ;AACH;;AAtDiD,O","sourcesContent":["/**\n * @Descripttion:\n * @version: 1.0\n * @Author: Lioesquieu\n * @Date: 2025-07-20\n * @LastEditors: Lioesquieu\n * @LastEditTime: 2024-08-08\n */\nimport {_decorator, Component, Node, UITransform} from 'cc';\nimport UiEdColumn from './UiEdColumn';\nimport {GlassInfo} from '../core/FunlandInfo';\n\nconst {ccclass, menu, property} = _decorator;\n\n@ccclass('UiEdColumnCtrl')\n@menu('cwg/UiEdColumnCtrl')\nexport default class UiEdColumnCtrl extends Component {\n\n    /** 列容器UI变换组件 */\n    @property(UITransform)\n    public uiTransform: UITransform;\n\n    /** 列控件实例 */\n    @property(UiEdColumn)\n    public column: UiEdColumn;\n\n    /** 当前列包含的玻璃杯数量 */\n    protected glassCount: number = 3;\n\n    onLoad() {\n        this.node.on(Node.EventType.SIZE_CHANGED, this.sizeChanged, this);\n        this.node.on(Node.EventType.ACTIVE_CHANGED, this.activeChanged, this);\n    }\n\n    protected start(): void {\n        this.column.adjustGlassCount(this.glassCount);\n    }\n\n    /**\n     * 重置列状态\n     * @param stageInfos 关卡配置数据\n     */\n    public reset(stageInfos: GlassInfo[]) {\n        this.glassCount = stageInfos.length;\n        this.column.reset(stageInfos);\n    }\n\n    protected sizeChanged() {\n        this.column.uiTransform.width = this.uiTransform.width;\n    }\n\n    protected activeChanged() {\n        this.column.node.active = this.node.active;\n    }\n\n    /**\n     * 调整玻璃杯数量\n     * @param countStr 输入的数量字符串\n     */\n    protected resetCount(_, countStr: string) {\n        this.glassCount = parseInt(countStr);\n        this.column.adjustGlassCount(this.glassCount);\n    }\n\n    protected moveUp() {\n        this.column.moveUp();\n    }\n\n    protected moveDown() {\n        this.column.moveDown();\n    }\n\n}"]}