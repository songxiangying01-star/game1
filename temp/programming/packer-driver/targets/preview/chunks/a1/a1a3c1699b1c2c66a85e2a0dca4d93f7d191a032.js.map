{"version":3,"sources":["file:///Users/songxiangying/Desktop/cc1234223/assets/core/HomeCtrl.ts"],"names":["_decorator","Component","director","sys","ccclass","property","HomeCtrl","start","onBtnStart","console","log","info","level","time","step","width","height","localData","localStorage","getItem","JSON","parse","setItem","stringify","loadScene"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,G,OAAAA,G;;;;;;;;;OACpC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;0BAGjBM,Q,WADZF,OAAO,CAAC,UAAD,C,gBAAR,MACaE,QADb,SAC8BL,SAD9B,CACwC;AAEpCM,QAAAA,KAAK,GAAG,CACP,CAHmC,CAKpC;;;AACOC,QAAAA,UAAU,GAAG;AAChBC,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EADgB,CAEhB;AACA;;AACA,cAAIC,IAAI,GAAG;AAAEC,YAAAA,KAAK,EAAE,CAAT;AAAYC,YAAAA,IAAI,EAAE,CAAlB;AAAqBC,YAAAA,IAAI,EAAE,CAA3B;AAA8BC,YAAAA,KAAK,EAAE,CAArC;AAAwCC,YAAAA,MAAM,EAAE;AAAhD,WAAX;AACA,cAAMC,SAAS,GAAGd,GAAG,CAACe,YAAJ,CAAiBC,OAAjB,CAAyB,UAAzB,CAAlB;;AACA,cAAIF,SAAJ,EAAe;AACXN,YAAAA,IAAI,GAAGS,IAAI,CAACC,KAAL,CAAWJ,SAAX,CAAP;AACAN,YAAAA,IAAI,CAACC,KAAL,GAAa,CAAb,CAFW,CAEK;AACnB;;AACDT,UAAAA,GAAG,CAACe,YAAJ,CAAiBI,OAAjB,CAAyB,UAAzB,EAAqCF,IAAI,CAACG,SAAL,CAAeZ,IAAf,CAArC,EAVgB,CAYhB;;AACAT,UAAAA,QAAQ,CAACsB,SAAT,CAAmB,MAAnB;AACH;;AApBmC,O","sourcesContent":["import { _decorator, Component, director, sys } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('HomeCtrl')\nexport class HomeCtrl extends Component {\n\n    start() {\n    }\n\n    // “开始游戏”按钮点击事件\n    public onBtnStart() {\n        console.log(\"点击开始游戏\");\n        // 确保从第1关开始 (level 0 = 第1关)\n        // 读取现有的存档结构，只修改 level，保留其他设置\n        let info = { level: 0, time: 0, step: 0, width: 3, height: 3 };\n        const localData = sys.localStorage.getItem(\"CwgState\");\n        if (localData) {\n            info = JSON.parse(localData);\n            info.level = 0; // 强制重置为第1关\n        }\n        sys.localStorage.setItem(\"CwgState\", JSON.stringify(info));\n\n        // 跳转到游戏场景\n        director.loadScene(\"game\");\n    }\n}"]}